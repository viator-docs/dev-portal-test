post:
  tags:
    - Booking services
  summary: /booking/status/items
  operationId: bookingStatusItems
  description: >
    Get brief booking statuses


    This service is similar to
    [/booking/status](#operation/bookingStatus) in
    that it:

    - retrieves the booking status for multiple items based on different
    criteria

    - has the same request parameters as
    [/booking/status](#operation/bookingStatus)


    However, it differs in that it returns a multi-item array of booking items
    with less detail than what would be received from
    [/booking/status](#operation/bookingStatus).
  parameters:
    - $ref: ../components/parameters/acceptLanguage.yaml
  requestBody:
    content:
      application/json:
        examples:
          booking_date:
            value:
              bookingDateFrom: '2020-12-21'
              bookingDateTo: '2020-12-31'
              test: true
          itemIds:
            value:
              itemIds:
                - 580669678
              test: true
          distributorItemRefs:
            value:
              distributorItemRefs:
                - itemRef1000000
              test: true
          lead_name:
            value:
              leadFirstName: Homer test
              leadSurname: Simpson test
              test: true
          all:
            value:
              bookingDateFrom: '2020-12-21'
              bookingDateTo: '2020-12-31'
              itemIds:
                - 580669678
              distributorItemRefs:
                - itemRef1000000
              leadFirstName: Homer test
              leadSurname: Simpson test
              test: true
        schema:
          type: object
          description: >-
            **note**: all items are optional, but at least one needs to be
            included
          properties:
            bookingDateFrom:
              type: string
              description: >-
                **earliest date** for when the booking(s) in question were made
                (must be in the future)
            bookingDateTo:
              type: string
              description: >-
                **latest date** for when the booking(s) in question were made
                (must be in the future)
            itemIds:
              type: array
              description: |
                **array** of booking-reference numbers to check

                 `itemId` (booking-reference provided by Viator). For more information, see [Booking references](#section/Key-concepts/Booking-references)
              items:
                type: integer
                description: '**numeric item identifier**'
            distributorRefs:
              type: array
              description: '**array** of partner-defined distributor reference identifiers'
              items:
                type: string
            distributorItemRefs:
              type: array
              description: >-
                **array** of partner-defined distributor item reference
                identifiers e.g. `['refItem1','refItem2','refItem3']`
              items:
                type: string
            leadFirstName:
              type: string
              description: '**first name** of the lead traveler'
            leadSurname:
              type: string
              description: '**surname** of the lead traveler'
            test:
              type: boolean
              description: |
                **specifier**:
                - `true`: bypass the poll limit in the prelive environment only
                - `false`: (default) make a *real* booking, not a test
  responses:
    '200':
      description: Success
      content:
        application/json:
          schema:
            allOf:
              - $ref: ../components/schemas/basicErrorModel.yaml
              - type: object
                properties:
                  data:
                    description: >-
                      **array** containing item ids and their associated booking
                      status object
                    type: array
                    items:
                      type: object
                      properties:
                        itemId:
                          type: integer
                          description: >
                            Booking-reference number generated by Viator

                            - **Note**: For more information, see: [Booking
                            references](#section/Key-concepts/Booking-references)
                        bookingStatus:
                          $ref: ../components/schemas/bookingStatus_item.yaml
                        distributorItemRef:
                          type: string
                          description: >-
                            **partner-defined distributor item reference
                            identifier**
          examples:
            '1':
              $ref: ../components/examples/booking-status-items-example.yaml
